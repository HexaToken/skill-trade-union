/* Import Google Fonts - must be first */
@import url('https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600;700&family=Poppins:wght@400;500;600;700&family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Professional SkillSwap Color System - Light & Dark Themes */

:root {
  /* Brand */
  --primary: #0B5FFF;      /* electric academic blue */
  --primary-600: #084AC7;  /* hover/pressed */
  --secondary: #12D6DF;    /* tech cyan */

  /* Text */
  --ink-head: #0F172A;
  --ink-body: #334155;

  /* Surfaces */
  --canvas: #F7F9FC;       /* app background */
  --surface: #FFFFFF;      /* cards/nav */
  --elevated: #FFFFFF;     /* modals/dropdowns */
  --border: #E5E7EB;

  /* States */
  --success: #16A34A;
  --warning: #F59E0B;
  --danger:  #EF4444;

  /* Gradients */
  --brand-gradient: linear-gradient(90deg, #6C2BD9 0%, #12D6DF 100%);

  /* Shadows */
  --shadow-sm: 0 1px 2px rgba(15, 23, 42, 0.06);
  --shadow-md: 0 6px 20px rgba(15, 23, 42, 0.08);

  /* Shadcn/ui compatibility layer */
  --background: 247 249 252; /* #F7F9FC */
  --foreground: 15 23 42; /* #0F172A */
  --card: 255 255 255; /* #FFFFFF */
  --card-foreground: 51 65 85; /* #334155 */
  --popover: 255 255 255;
  --popover-foreground: 51 65 85;
  --muted: 229 231 235; /* #E5E7EB */
  --muted-foreground: 51 65 85;
  --accent: 18 214 223; /* #12D6DF */
  --accent-foreground: 255 255 255;
  --destructive: 239 68 68; /* #EF4444 */
  --destructive-foreground: 255 255 255;
  --input: 229 231 235;
  --ring: 11 95 255;
  --radius: 1rem;
}

[data-theme="dark"] {
  --primary: #7AA7FF;
  --primary-600: #5F86D1;
  --secondary: #2BE4EE;

  --ink-head: #E5EDF9;
  --ink-body: #C8D1E2;

  --canvas: #0B1220;
  --surface: #121A2B;
  --elevated: #16213A;
  --border: #233047;

  --success: #22C55E;
  --warning: #FBBF24;
  --danger:  #F87171;

  --brand-gradient: linear-gradient(90deg, #8B5CF6 0%, #2BE4EE 100%);

  /* Shadows */
  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.35);
  --shadow-md: 0 10px 28px rgba(0, 0, 0, 0.35);

  /* Shadcn/ui compatibility layer */
  --background: 11 18 32; /* #0B1220 */
  --foreground: 229 237 249; /* #E5EDF9 */
  --card: 18 26 43; /* #121A2B */
  --card-foreground: 200 209 226; /* #C8D1E2 */
  --popover: 18 26 43;
  --popover-foreground: 200 209 226;
  --muted: 35 48 71; /* #233047 */
  --muted-foreground: 200 209 226;
  --accent: 43 228 238; /* #2BE4EE */
  --accent-foreground: 255 255 255;
  --destructive: 248 113 113; /* #F87171 */
  --destructive-foreground: 255 255 255;
  --input: 35 48 71;
  --ring: 122 167 255;
}

/* Base app wiring */
html, body {
  background: var(--canvas);
  color: var(--ink-body);
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply font-sans antialiased;
    background: var(--canvas);
    color: var(--ink-body);
  }

  /* Typography Hierarchy */
  h1, h2, h3, h4, h5, h6 {
    @apply font-heading font-semibold tracking-tight;
    color: var(--ink-head);
  }

  h1 {
    @apply text-4xl lg:text-5xl xl:text-6xl;
  }

  h2 {
    @apply text-3xl lg:text-4xl;
  }

  h3 {
    @apply text-2xl lg:text-3xl;
  }

  /* Smooth scrolling */
  html {
    scroll-behavior: smooth;
  }

  /* Links */
  a {
    color: var(--primary);
    text-underline-offset: 2px;
  }

  a:hover {
    color: var(--secondary);
  }

  /* Focus ring */
  :focus-visible {
    outline: 2px solid var(--secondary);
    outline-offset: 2px;
  }
}

@layer utilities {
  /* Color utilities */
  .text-primary { color: var(--primary); }
  .text-primary600 { color: var(--primary-600); }
  .text-secondary { color: var(--secondary); }
  .text-ink-head { color: var(--ink-head); }
  .text-ink-body { color: var(--ink-body); }
  .text-success { color: var(--success); }
  .text-warning { color: var(--warning); }
  .text-danger { color: var(--danger); }

  .bg-canvas { background-color: var(--canvas); }
  .bg-surface { background-color: var(--surface); }
  .bg-elevated { background-color: var(--elevated); }
  .bg-primary { background-color: var(--primary); }
  .bg-primary600 { background-color: var(--primary-600); }
  .bg-secondary { background-color: var(--secondary); }

  .border-border { border-color: var(--border); }

  /* Legacy support for existing classes */
  .text-inkHead { color: var(--ink-head); }
  .text-inkBody { color: var(--ink-body); }

  /* Shadow utilities */
  .shadow-sm { box-shadow: var(--shadow-sm); }
  .shadow-md { box-shadow: var(--shadow-md); }

  /* Gradient utilities */
  .bg-brand-gradient { background-image: var(--gradient-brand); }

  /* Border radius utilities */
  .rounded-card { border-radius: 16px; }
  .rounded-pill { border-radius: 999px; }

  /* Button utilities */
  .btn-primary {
    background: var(--primary);
    color: white;
    border-radius: 999px;
    box-shadow: var(--shadow-sm);
  }

  .btn-primary:hover {
    background: var(--primary-600);
  }

  /* Page container */
  .page-container {
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
  }

  /* Card styling */
  .card-surface {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 16px;
    box-shadow: var(--shadow-sm);
  }

  /* Text gradient with correct classes */
  .text-gradient {
    background: linear-gradient(90deg, var(--primary) 0%, var(--secondary) 100%);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }
}

/* Legacy yellow color overrides - keeping these for compatibility */
.bg-yellow-400,
.bg-yellow-500,
.bg-amber-400,
.bg-amber-500 {
  background-color: var(--color-primary) !important;
  color: white !important;
}

.text-yellow-400,
.text-yellow-500,
.text-amber-400,
.text-amber-500 {
  color: var(--color-primary) !important;
}

/* === Emergency theming overrides === */
/* Map common yellows to your warning token (or primary) */
:root {
  --theme-warning: #F59E0B;              /* light */
}
:root[data-theme="dark"] { --theme-warning: #FBBF24; }

/* Nuclear option: scan for any yellow-ish colors and convert to primary */
*[style*="yellow"], *[class*="yellow"],
*[style*="amber"], *[class*="amber"],
*[style*="#ffc"], *[style*="#ff0"],
*[style*="#fe0"], *[style*="#fd0"],
*[style*="rgb(255, 255, 0)"], *[style*="rgb(255, 193, 7)"],
*[style*="rgb(255, 235, 59)"], *[style*="rgb(254, 240, 138)"] {
  background-color: var(--color-primary) !important;
  color: white !important;
  border-color: var(--color-primary) !important;
}

/* Inline styles using HEX - comprehensive yellow detection */
[style*="#f59e0b"], [style*="#F59E0B"],
[style*="#fbbf24"], [style*="#FBBF24"],
[style*="#eab308"], [style*="#EAB308"],
[style*="#ffc107"], [style*="#FFC107"],
[style*="#facc15"], [style*="#FACC15"],
[style*="#ffd54f"], [style*="#FFD54F"],
[style*="#ffeb3b"], [style*="#FFEB3B"],
[style*="#fff59d"], [style*="#FFF59D"],
[style*="#ffcc02"], [style*="#FFCC02"],
[style*="#ffd700"], [style*="#FFD700"],
[style*="#f9a825"], [style*="#F9A825"],
[style*="rgb(254, 240, 138)"], [style*="RGB(254, 240, 138)"],
[style*="rgb(255, 193, 7)"], [style*="RGB(255, 193, 7)"],
[style*="rgb(251, 191, 36)"], [style*="RGB(251, 191, 36)"],
[style*="rgb(255, 235, 59)"], [style*="RGB(255, 235, 59)"],
[style*="rgb(255, 245, 157)"], [style*="RGB(255, 245, 157)"],
[style*="rgb(255, 213, 79)"], [style*="RGB(255, 213, 79)"] {
  color: var(--color-primary) !important;
  border-color: var(--color-primary) !important;
  background-color: var(--color-primary) !important;
}

/* Tailwind-like utility classes some libraries ship with */
[class*="text-yellow-"], [class*="bg-yellow-"], [class*="border-yellow-"],
[class*="text-amber-"], [class*="bg-amber-"], [class*="border-amber-"],
.text-yellow-400, .text-yellow-500, .text-yellow-600,
.bg-yellow-400, .bg-yellow-500, .bg-yellow-600,
.border-yellow-400, .border-yellow-500, .border-yellow-600,
.text-amber-400, .text-amber-500, .text-amber-600,
.bg-amber-400, .bg-amber-500, .bg-amber-600,
.border-amber-400, .border-amber-500, .border-amber-600 {
  color: var(--color-primary) !important;
  border-color: var(--color-primary) !important;
  background-color: var(--color-primary) !important;
}

/* Button-specific overrides */
button[style*="background-color: rgb(254, 240, 138)"],
button[style*="background-color: rgb(255, 193, 7)"],
button[style*="background-color: rgb(251, 191, 36)"],
button[class*="bg-yellow-"],
button[class*="bg-amber-"] {
  background-color: var(--color-primary) !important;
  color: white !important;
  border-color: var(--color-primary) !important;
}

/* Badge and pill overrides */
.badge[class*="yellow"], .badge[class*="amber"],
[data-variant="secondary"][class*="yellow"], [data-variant="secondary"][class*="amber"] {
  background-color: color-mix(in oklab, var(--color-primary) 16%, transparent) !important;
  color: var(--color-primary) !important;
  border-color: color-mix(in oklab, var(--color-primary) 32%, transparent) !important;
}

/* Header & Footer 100% design token enforcement */
.site-header, header, [role="banner"] {
  background: var(--surface) !important;
  color: var(--ink-body) !important;
  border-bottom: 1px solid var(--border) !important;
}

.site-header .cta, header .cta,
[role="banner"] .cta,
header button[class*="primary"],
header a[class*="primary"] {
  background: var(--primary) !important;
  color: #fff !important;
  border-color: var(--primary) !important;
}

.site-footer, footer, [role="contentinfo"] {
  background: var(--surface) !important;
  color: var(--ink-body) !important;
  border-top: 1px solid var(--border) !important;
}

.site-footer a, footer a, [role="contentinfo"] a {
  color: var(--ink-body) !important;
}

.site-footer a:hover, footer a:hover, [role="contentinfo"] a:hover {
  color: var(--ink-head) !important;
}

/* Ensure nav links use design tokens */
nav a, [role="navigation"] a {
  color: var(--ink-body) !important;
}

nav a:hover, [role="navigation"] a:hover {
  color: var(--ink-head) !important;
}

/* === Yellow Kill-Switch (load LAST) === */
:root { --theme-warning: var(--warning, #F59E0B); }

/* Common hex & palette aliases seen in libs/components */
[style*="#f59e0b"], [style*="#F59E0B"],
[style*="#fbbf24"], [style*="#FBBF24"],
[style*="#eab308"], [style*="#EAB308"],
[style*="#ffc107"], [style*="#FFC107"],
[style*="#facc15"], [style*="#FACC15"],
[style*="yellow"], [style*="amber"] {
  color: var(--theme-warning) !important;
  background-color: color-mix(in oklab, var(--theme-warning) 16%, transparent) !important;
  border-color: var(--theme-warning) !important;
}

/* Tailwind-like classes */
[class*="text-yellow-"], [class*="bg-yellow-"], [class*="border-yellow-"],
[class*="text-amber-"], [class*="bg-amber-"], [class*="border-amber-"] {
  color: var(--theme-warning) !important;
  background-color: color-mix(in oklab, var(--theme-warning) 16%, transparent) !important;
  border-color: var(--theme-warning) !important;
}

/* SVG fills & strokes (inline attributes and computed styles) */
svg [fill="#f59e0b"], svg [fill="#F59E0B"],
svg [fill="#fbbf24"], svg [fill="#FBBF24"],
svg [fill="#eab308"], svg [fill="#EAB308"],
svg [fill="#ffc107"], svg [fill="#FFC107"],
svg [fill="#facc15"], svg [fill="#FACC15"],
svg [stroke="#f59e0b"], svg [stroke="#F59E0B"],
svg [stroke="#fbbf24"], svg [stroke="#FBBF24"],
svg [stroke="#eab308"], svg [stroke="#EAB308"],
svg [stroke="#ffc107"], svg [stroke="#FFC107"],
svg [stroke="#facc15"], svg [stroke="#FACC15"] {
  fill: var(--theme-warning) !important;
  stroke: var(--theme-warning) !important;
}

/* Generic fallback: any svg with yellow-ish computed fill/stroke (class hints) */
svg[class*="yellow"], svg [class*="yellow"],
svg[class*="amber"],  svg [class*="amber"] {
  fill: var(--theme-warning) !important;
  stroke: var(--theme-warning) !important;
}

/* Additional star ratings and button overrides */
[class*="icon-"], .rating i, .star {
  color: var(--warning) !important;  /* keeps stars "gold" but on-theme */
}
.btn-primary, .cta {
  background: var(--primary) !important;
}
.btn-primary:hover, .cta:hover {
  background: var(--primary-600) !important;
}

/* If yellow is accidentally used as "primary", remap it to your real primary: */
/* :root { --theme-warning: var(--color-primary); } */
